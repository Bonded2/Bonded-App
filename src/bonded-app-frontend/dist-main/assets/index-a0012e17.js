var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});import{_ as __vitePreload}from"./icp-sdk-b71c0736.js";import{r as reactExports,g as jsxRuntimeExports,u as useNavigate}from"./vendor-e6e658b6.js";import{T as TopAppBar}from"./TopAppBar-eb3f5630.js";import{M as MediaScanner}from"./MediaScanner-9c55dca2.js";import{u as useGeoMetadata}from"./useGeoMetadata-3799b13f.js";import"./textClassification-848edeeb.js";import"./GeoMetadataProvider-1b35b418.js";const MediaScannerModal=__name(({onClose,onMediaSelected})=>{const[selectedFiles,setSelectedFiles]=reactExports.useState([]),[isProcessing,setIsProcessing]=reactExports.useState(!1),[status,setStatus]=reactExports.useState(""),[locationStatus,setLocationStatus]=reactExports.useState(""),{metadata,isLoading,refreshMetadata,getMetadataForFile}=useGeoMetadata();reactExports.useEffect(()=>{refreshMetadata()},[refreshMetadata]),reactExports.useEffect(()=>{if(isLoading)setLocationStatus("Updating location data...");else if(metadata){const location=metadata.resolvedLocation?.city||metadata.ipLocation?.city||"Unknown",country=metadata.resolvedLocation?.countryName||metadata.ipLocation?.countryName||"";setLocationStatus(`Location: ${location}${country?`, ${country}`:""} ${metadata.vpnCheck?"(VPN detected)":"✓"}`)}},[metadata,isLoading]);const handleMediaSelect=__name(files=>{setSelectedFiles(files),setStatus(`${files.length} files selected. Click "Add to Timeline" to complete.`)},"handleMediaSelect"),handleReset=__name(()=>{setSelectedFiles([]),setStatus("")},"handleReset"),groupFilesByDate=__name(files=>{const groups={};return files.forEach(file=>{const timestamp=file.timestamp||file.file?.lastModified||Date.now(),dateKey=new Date(timestamp).toLocaleDateString("en-CA");groups[dateKey]||(groups[dateKey]=[]),groups[dateKey].push(file)}),Object.keys(groups).forEach(date=>{groups[date].sort((a,b)=>{const timestampA=a.timestamp||a.file?.lastModified||0;return(b.timestamp||b.file?.lastModified||0)-timestampA})}),groups},"groupFilesByDate"),processFilesWithGeolocation=__name(async()=>{try{if(selectedFiles.length===0){setStatus("Please select at least one file first");return}setIsProcessing(!0),setStatus(`Processing ${selectedFiles.length} files with location data...`);const validFiles=selectedFiles.filter(file=>!file||!file.file||!(file.file instanceof Blob)||!file.file.size||file.file.size<=0?!1:(file.timestamp||(file.timestamp=file.file.lastModified||Date.now()),!0));if(validFiles.length===0)throw new Error("No valid files selected. Please try again.");validFiles.length<selectedFiles.length&&setStatus(`Warning: ${selectedFiles.length-validFiles.length} invalid files were skipped.`),await refreshMetadata(),metadata||(setStatus("Waiting for location data..."),await new Promise(resolve=>setTimeout(resolve,1e3)),await refreshMetadata(),metadata||setStatus("Warning: Unable to get location data. Files will be imported without location verification."));const filesByDate=groupFilesByDate(validFiles),filesWithMetadata=validFiles.map(file=>({...file,metadata:{...file.metadata,currentLocation:metadata,timestamp:file.timestamp||file.file.lastModified||Date.now()}}));onMediaSelected(filesWithMetadata,filesByDate),setStatus(`Successfully processed ${validFiles.length} files`),setIsProcessing(!1)}catch(error){setStatus(`Error: ${error.message||"Failed to process files"}`),setIsProcessing(!1)}},"processFilesWithGeolocation");return jsxRuntimeExports.jsx("div",{className:"media-scanner-modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"media-scanner-modal-container",children:[jsxRuntimeExports.jsxs("div",{className:"media-scanner-modal-header",children:[jsxRuntimeExports.jsx("h2",{children:"Import Media to Timeline"}),jsxRuntimeExports.jsx("button",{className:"close-button",onClick:onClose,"aria-label":"Close media scanner",children:jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"#FFFFFF"})})})]}),jsxRuntimeExports.jsxs("div",{className:"media-scanner-modal-content",children:[locationStatus&&jsxRuntimeExports.jsx("div",{className:"media-scanner-location-status",children:jsxRuntimeExports.jsxs("div",{className:"location-indicator",style:{backgroundColor:metadata?.vpnCheck?"#fff3cd":"#e8f5e9",color:metadata?.vpnCheck?"#856404":"#2e7d32",padding:"8px 12px",borderRadius:"4px",fontSize:"14px",marginBottom:"12px",display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:jsxRuntimeExports.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z",fill:metadata?.vpnCheck?"#856404":"#2e7d32"})}),locationStatus,jsxRuntimeExports.jsx("button",{onClick:refreshMetadata,style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer",color:metadata?.vpnCheck?"#856404":"#2e7d32",display:"flex",alignItems:"center"},title:"Refresh location data",children:jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:metadata?.vpnCheck?"#856404":"#2e7d32"})})})]})}),jsxRuntimeExports.jsx("div",{className:"media-scanner-scrollable",children:jsxRuntimeExports.jsx(MediaScanner,{onMediaSelected:handleMediaSelect})}),status&&jsxRuntimeExports.jsx("div",{className:"media-scanner-status",children:status}),jsxRuntimeExports.jsxs("div",{className:"media-scanner-actions",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px"},children:[jsxRuntimeExports.jsx("button",{className:"cancel-button",onClick:onClose,disabled:isProcessing,children:"Cancel"}),selectedFiles.length>0&&jsxRuntimeExports.jsx("button",{className:"reset-button",onClick:handleReset,disabled:isProcessing,style:{backgroundColor:"#f5f5f5",color:"#333",border:"1px solid #ddd"},children:"Reset Selection"})]}),jsxRuntimeExports.jsx("button",{className:"process-button",onClick:processFilesWithGeolocation,disabled:selectedFiles.length===0||isProcessing,children:isProcessing?"Processing...":`Add ${selectedFiles.length>0?selectedFiles.length:""} to Timeline`})]})]})]})})},"MediaScannerModal"),LocationPanel=__name(()=>{const{metadata,isLoading,error,refreshMetadata}=useGeoMetadata(),formatCoords=__name(coords=>!coords||!coords.lat&&coords.lat!==0?"Not available":`${coords.lat.toFixed(6)}, ${coords.lng.toFixed(6)}`,"formatCoords"),panelStyle={backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"0.5rem",padding:"1rem",margin:"1rem 0",maxWidth:"32rem",marginLeft:"auto",marginRight:"auto",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(44, 76, 223, 0.2)"},headerStyle={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},titleStyle={fontSize:"1.125rem",fontWeight:"600",color:"#2C4CDF",fontFamily:"Trocchi, serif",margin:0},buttonStyle={backgroundColor:"#B9FF46",color:"#2C4CDF",padding:"0.25rem 0.75rem",borderRadius:"0.25rem",fontSize:"0.875rem",border:"none",cursor:"pointer",transition:"background-color 0.2s ease"},labelStyle={width:"33.333333%",fontWeight:"500",color:"#2C4CDF"},valueStyle={width:"66.666667%",color:"#333333"};return jsxRuntimeExports.jsxs("div",{style:panelStyle,children:[jsxRuntimeExports.jsxs("div",{style:headerStyle,children:[jsxRuntimeExports.jsx("h2",{style:titleStyle,children:"Location Metadata"}),jsxRuntimeExports.jsx("button",{onClick:refreshMetadata,style:buttonStyle,disabled:isLoading,onMouseOver:e=>e.currentTarget.style.backgroundColor="#a8e63f",onMouseOut:e=>e.currentTarget.style.backgroundColor="#B9FF46",children:isLoading?"Refreshing...":"Refresh"})]}),error&&jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"rgba(255, 112, 77, 0.2)",color:"#ff5a33",padding:"0.75rem",borderRadius:"0.25rem",marginBottom:"1rem",fontSize:"0.875rem"},children:["Error: ",error]}),isLoading&&!metadata&&jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"1rem 0"},children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:"#2C4CDF"}})}),metadata&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",fontSize:"0.875rem"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("div",{style:labelStyle,children:"Timestamp:"}),jsxRuntimeExports.jsx("div",{style:valueStyle,children:new Date(metadata.timestamp).toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[jsxRuntimeExports.jsx("div",{style:labelStyle,children:"GPS Coordinates:"}),jsxRuntimeExports.jsxs("div",{style:valueStyle,children:[formatCoords(metadata.deviceLocation),metadata.deviceLocation?.accuracy&&jsxRuntimeExports.jsxs("div",{style:{fontSize:"0.75rem",color:"#666666",marginTop:"0.25rem"},children:["Accuracy: ±",Math.round(metadata.deviceLocation.accuracy),"m"]})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[jsxRuntimeExports.jsx("div",{style:labelStyle,children:"Resolved Address:"}),jsxRuntimeExports.jsxs("div",{style:valueStyle,children:[metadata.resolvedLocation?.fullAddress||"Not available",metadata.resolvedLocation?.country&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"0.25rem"},children:[metadata.resolvedLocation.country&&jsxRuntimeExports.jsx("img",{src:`${metadata.resolvedLocation.country?`https://flagcdn.com/16x12/${metadata.resolvedLocation.country.toLowerCase()}.png`:""}`,alt:metadata.resolvedLocation.countryName||"",style:{marginRight:"0.25rem"},className:"inline-block",width:"16",height:"12"}),jsxRuntimeExports.jsx("span",{children:[metadata.resolvedLocation.city,metadata.resolvedLocation.region,metadata.resolvedLocation.countryName].filter(Boolean).join(", ")})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[jsxRuntimeExports.jsx("div",{style:labelStyle,children:"IP Location:"}),jsxRuntimeExports.jsx("div",{style:valueStyle,children:metadata.ipLocation?.ip?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{children:metadata.ipLocation.ip}),metadata.ipLocation.country&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"0.25rem"},children:[metadata.ipLocation.country&&jsxRuntimeExports.jsx("img",{src:`${metadata.ipLocation.country?`https://flagcdn.com/16x12/${metadata.ipLocation.country.toLowerCase()}.png`:""}`,alt:metadata.ipLocation.countryName||"",style:{marginRight:"0.25rem"},className:"inline-block",width:"16",height:"12"}),jsxRuntimeExports.jsx("span",{children:[metadata.ipLocation.city,metadata.ipLocation.region,metadata.ipLocation.countryName].filter(Boolean).join(", ")})]})]}):"Not available"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("div",{style:labelStyle,children:"VPN Detection:"}),jsxRuntimeExports.jsx("div",{style:valueStyle,children:metadata.vpnCheck===null?"Unknown":jsxRuntimeExports.jsx("span",{style:{color:metadata.vpnCheck?"#FF9500":"#4CAF50"},children:metadata.vpnCheck?"⚠️ VPN detected":"✅ No VPN detected"})})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("div",{style:labelStyle,children:"Location Match:"}),jsxRuntimeExports.jsx("div",{style:valueStyle,children:metadata.locationMatch===null?"Unable to verify":jsxRuntimeExports.jsxs("span",{style:{color:metadata.locationMatch?"#4CAF50":"#FF704D"},children:[metadata.locationMatch?"✅ Verified":"❌ Inconsistent",metadata.distance!==null&&` (${metadata.distance} km apart)`]})})]}),metadata.message&&jsxRuntimeExports.jsx("div",{style:{backgroundColor:"rgba(44, 76, 223, 0.1)",color:"#333333",padding:"0.75rem",borderRadius:"0.25rem",fontSize:"0.75rem",marginTop:"0.5rem"},children:metadata.message})]}),jsxRuntimeExports.jsx("div",{style:{marginTop:"1rem",fontSize:"0.75rem",color:"#666666"},children:"This data will be securely attached to any files uploaded during this session."})]})},"LocationPanel");const MediaImport=__name(()=>{const navigate=useNavigate(),[isModalOpen,setIsModalOpen]=reactExports.useState(!1),[showGeolocationData,setShowGeolocationData]=reactExports.useState(!1),[recentFiles,setRecentFiles]=reactExports.useState([]),[importSuccess,setImportSuccess]=reactExports.useState(!1),[processingStatus,setProcessingStatus]=reactExports.useState(""),{metadata,refreshMetadata}=useGeoMetadata();reactExports.useEffect(()=>{refreshMetadata()},[refreshMetadata]);const handleOpenMediaScanner=__name(()=>{setIsModalOpen(!0)},"handleOpenMediaScanner"),handleViewTimeline=__name(()=>{navigate("/timeline-created",{state:{fromMediaImport:!0,mediaCount:recentFiles.length,dateRange:recentFiles.length>0?`${new Date(recentFiles[recentFiles.length-1].timestamp||recentFiles[recentFiles.length-1].file.lastModified).toLocaleDateString()} - ${new Date(recentFiles[0].timestamp||recentFiles[0].file.lastModified).toLocaleDateString()}`:null}})},"handleViewTimeline"),handleFilesAdded=__name(async filesWithMetadata=>{try{setIsModalOpen(!1);const{aiEvidenceFilter}=await __vitePreload(()=>import("./index-556a343f.js"),["assets/index-556a343f.js","assets/icp-sdk-b71c0736.js","assets/vendor-e6e658b6.js","assets/evidenceFilter-6e1ec898.js","assets/textClassification-848edeeb.js","assets/encryption-3413e488.js","assets/canisterIntegration-a5c53e9e.js","assets/index-ed0f0e28.js","assets/icpNetworkHelper-2c245b46.js","assets/emailService-11bba984.js","assets/mediaAccess-9b6d075b.js","assets/timelineService-a34b98cd.js","assets/icpCanisterService-30902200.js"]),{timelineService}=await __vitePreload(()=>import("./timelineService-a34b98cd.js"),["assets/timelineService-a34b98cd.js","assets/icp-sdk-b71c0736.js","assets/vendor-e6e658b6.js","assets/encryption-3413e488.js","assets/icpCanisterService-30902200.js","assets/index-ed0f0e28.js"]);let processedCount=0,approvedCount=0,rejectedCount=0;for(const fileData of filesWithMetadata)try{processedCount++;const imageElement=await createImageFromFile(fileData.file),filterResult=await aiEvidenceFilter.filterImage(imageElement,fileData.metadata);if(filterResult.approved){approvedCount++;const timelineEntry={id:`imported_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:filterResult.details.ocrExtraction?.text?"photo_with_text":"photo",content:{file:fileData.file,filename:fileData.file.name,fileType:fileData.file.type,fileSize:fileData.file.size,extractedText:filterResult.details.ocrExtraction?.text||null},metadata:{...fileData.metadata,source:"media_import",aiProcessed:!0,aiResult:filterResult,nsfwFiltered:!0,processingTime:filterResult.processing_time||0},timestamp:new Date(fileData.timestamp||fileData.file.lastModified).toISOString(),uploadStatus:"pending"};await timelineService.addTimelineEntry(timelineEntry)}else rejectedCount++}catch(error){rejectedCount++,console.error(`Error processing file ${fileData.file.name}:`,error)}const message=`Processed ${processedCount} files: ${approvedCount} approved, ${rejectedCount} filtered out`;setProcessingStatus(message),setTimeout(()=>{setProcessingStatus("")},5e3),approvedCount>0&&(setRecentFiles(prev=>[...prev,...filesWithMetadata.slice(0,approvedCount)]),setImportSuccess(!0))}catch(error){console.error("Error in handleFilesAdded:",error),setProcessingStatus(`Error processing files: ${error.message}`)}},"handleFilesAdded"),createImageFromFile=__name(file=>new Promise((resolve,reject)=>{const img=new Image;img.onload=()=>{URL.revokeObjectURL(img.src),resolve(img)},img.onerror=()=>{URL.revokeObjectURL(img.src),reject(new Error("Failed to load image"))},img.src=URL.createObjectURL(file)}),"createImageFromFile"),cardStyle={backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"0.5rem",padding:"1rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08)",marginBottom:"1.5rem"},headingStyle={fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem",fontFamily:"Trocchi, serif",color:"#2C4CDF"},buttonStyle={backgroundColor:"#B9FF46",color:"#2C4CDF",padding:"0.5rem 1rem",borderRadius:"0.25rem",border:"none",cursor:"pointer",transition:"background-color 0.2s ease"},secondaryButtonStyle={...buttonStyle,backgroundColor:"#2C4CDF",color:"white",marginLeft:"0.5rem"};return jsxRuntimeExports.jsxs("div",{className:"media-scanner-utility",children:[jsxRuntimeExports.jsx(TopAppBar,{title:"Media Import",showBackButton:!0}),jsxRuntimeExports.jsx("div",{className:"content p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-6",children:[importSuccess&&jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"rgba(76, 175, 80, 0.2)",color:"#4CAF50",padding:"0.75rem",borderRadius:"0.25rem",marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsxs("span",{children:["Successfully added ",recentFiles.length," files to your timeline!"]}),jsxRuntimeExports.jsx("button",{style:secondaryButtonStyle,onClick:handleViewTimeline,onMouseOver:e=>e.currentTarget.style.backgroundColor="#1A3BC9",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2C4CDF",children:"View Timeline"})]}),jsxRuntimeExports.jsxs("div",{style:cardStyle,children:[jsxRuntimeExports.jsx("h2",{style:headingStyle,children:"Import Media to Timeline"}),jsxRuntimeExports.jsx("p",{style:{color:"#333333",marginBottom:"1rem"},children:"Import photos, documents, and media files from your device to your relationship timeline."}),jsxRuntimeExports.jsx("p",{style:{color:"#666666",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"All files will be automatically tagged with your current location metadata to help verify your relationship status."}),jsxRuntimeExports.jsxs("div",{style:{display:"flex"},children:[jsxRuntimeExports.jsx("button",{onClick:handleOpenMediaScanner,style:buttonStyle,onMouseOver:e=>e.currentTarget.style.backgroundColor="#a8e63f",onMouseOut:e=>e.currentTarget.style.backgroundColor="#B9FF46",children:"Open Media Scanner"}),jsxRuntimeExports.jsx("button",{onClick:handleViewTimeline,style:secondaryButtonStyle,onMouseOver:e=>e.currentTarget.style.backgroundColor="#1A3BC9",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2C4CDF",children:"View Timeline"})]})]}),recentFiles.length>0&&jsxRuntimeExports.jsxs("div",{style:cardStyle,children:[jsxRuntimeExports.jsx("h2",{style:headingStyle,children:"Recently Added Files"}),jsxRuntimeExports.jsx("div",{className:"mt-2 flex flex-col gap-2",children:recentFiles.map((fileData,index)=>jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"rgba(44, 76, 223, 0.1)",padding:"0.75rem",borderRadius:"0.25rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm",style:{color:"#333333",fontWeight:"500"},children:fileData.file.name}),jsxRuntimeExports.jsxs("p",{style:{fontSize:"0.75rem",color:"#666666"},children:[new Date(fileData.timestamp||fileData.file.lastModified).toLocaleDateString()," ",fileData.metadata?.deviceLocation?.lat&&jsxRuntimeExports.jsx("span",{children:"• Location verified ✓"})]})]}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"0.75rem",color:"#2C4CDF"},children:[(fileData.file.size/1024).toFixed(1)," KB"]})]},index))})]}),jsxRuntimeExports.jsxs("div",{style:cardStyle,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{style:headingStyle,children:"Location Information"}),jsxRuntimeExports.jsx("button",{onClick:()=>setShowGeolocationData(!showGeolocationData),style:buttonStyle,onMouseOver:e=>e.currentTarget.style.backgroundColor="#a8e63f",onMouseOut:e=>e.currentTarget.style.backgroundColor="#B9FF46",children:showGeolocationData?"Hide Details":"Show Details"})]}),showGeolocationData?jsxRuntimeExports.jsx(LocationPanel,{}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{style:{color:"#333333",marginBottom:"0.5rem"},children:"Your current location data will be attached to any files you import."}),metadata&&jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"rgba(44, 76, 223, 0.1)",padding:"0.75rem",borderRadius:"0.25rem",marginTop:"0.5rem",fontSize:"0.875rem",color:"#333333"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[jsxRuntimeExports.jsx("span",{style:{fontWeight:"500",width:"8rem"},children:"Current location:"}),jsxRuntimeExports.jsxs("span",{children:[metadata.resolvedLocation?.city||metadata.ipLocation?.city||"Unknown",metadata.resolvedLocation?.country&&jsxRuntimeExports.jsx("img",{src:`https://flagcdn.com/16x12/${metadata.resolvedLocation.country.toLowerCase()}.png`,alt:metadata.resolvedLocation.countryName||"",style:{marginLeft:"0.5rem",verticalAlign:"middle"},width:"16",height:"12"})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("span",{style:{fontWeight:"500",width:"8rem"},children:"VPN detected:"}),jsxRuntimeExports.jsx("span",{style:{color:metadata.vpnCheck?"#FF704D":"#4CAF50"},children:metadata.vpnCheck?"Yes ⚠️":"No ✓"})]})]})]})]})]})}),processingStatus&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",background:"#4ade80",color:"white",padding:"12px 20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:1e4,maxWidth:"400px",fontSize:"14px"},children:processingStatus}),isModalOpen&&jsxRuntimeExports.jsx(MediaScannerModal,{onClose:()=>setIsModalOpen(!1),onMediaSelected:handleFilesAdded})]})},"MediaImport");export{MediaImport};
