var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});import{r as reactExports,g as jsxRuntimeExports,u as useNavigate}from"./vendor-e6e658b6.js";import"./icp-sdk-b71c0736.js";const ExportEmailModal=__name(({onClose,onConfirm})=>{const[email,setEmail]=reactExports.useState(""),[confirmEmail,setConfirmEmail]=reactExports.useState(""),[error,setError]=reactExports.useState(""),handleEmailChange=__name(e=>{setEmail(e.target.value),error&&setError("")},"handleEmailChange"),handleConfirmEmailChange=__name(e=>{setConfirmEmail(e.target.value),error&&setError("")},"handleConfirmEmailChange"),validateEmail=__name(email2=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(email2).toLowerCase()),"validateEmail"),handleSubmit=__name(()=>{if(!email||!confirmEmail){setError("Both fields are required");return}if(!validateEmail(email)){setError("Please enter a valid email address");return}if(email!==confirmEmail){setError("Email addresses do not match");return}onConfirm(email)},"handleSubmit");return jsxRuntimeExports.jsx("div",{className:"export-email-overlay",children:jsxRuntimeExports.jsx("div",{className:"export-email-container",children:jsxRuntimeExports.jsxs("div",{className:"export-email-content",children:[jsxRuntimeExports.jsxs("div",{className:"export-email-header",children:[jsxRuntimeExports.jsx("div",{className:"export-email-title",children:"Export Email"}),jsxRuntimeExports.jsx("div",{className:"export-email-close",onClick:onClose,children:jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"#2C4CDF"})})})]}),jsxRuntimeExports.jsx("div",{className:"export-email-desc",children:jsxRuntimeExports.jsx("p",{children:"Enter your email address where we'll send your exported data."})}),jsxRuntimeExports.jsxs("div",{className:"export-email-form",children:[jsxRuntimeExports.jsxs("div",{className:"email-form-group",children:[jsxRuntimeExports.jsx("label",{children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Enter your email",value:email,onChange:handleEmailChange})]}),jsxRuntimeExports.jsxs("div",{className:"email-form-group",children:[jsxRuntimeExports.jsx("label",{children:"Confirm Email"}),jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Confirm your email",value:confirmEmail,onChange:handleConfirmEmailChange})]}),error&&jsxRuntimeExports.jsx("div",{className:"email-error",children:error})]}),jsxRuntimeExports.jsxs("div",{className:"export-email-actions",children:[jsxRuntimeExports.jsx("button",{className:"export-email-cancel",onClick:onClose,children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"export-email-confirm",onClick:handleSubmit,children:"Confirm"})]})]})})})},"ExportEmailModal");const ExportAllData=__name(({onClose})=>{const navigate=useNavigate(),[exportFormat,setExportFormat]=reactExports.useState("zip"),[dataToExport,setDataToExport]=reactExports.useState({timeline:!0,profileData:!0,mediaFiles:!0}),[paymentMethod,setPaymentMethod]=reactExports.useState("creditCard"),[paymentInProgress,setPaymentInProgress]=reactExports.useState(!1),[exportInProgress,setExportInProgress]=reactExports.useState(!1),[exportComplete,setExportComplete]=reactExports.useState(!1),[userEmail,setUserEmail]=reactExports.useState(""),[currentStep,setCurrentStep]=reactExports.useState("options"),[showEmailModal,setShowEmailModal]=reactExports.useState(!1),handleBack=__name(()=>{if(currentStep==="payment"){setCurrentStep("options");return}onClose?onClose():navigate(-1)},"handleBack"),handleFormatChange=__name(format=>{setExportFormat(format)},"handleFormatChange"),handleCheckboxChange=__name(key=>{setDataToExport({...dataToExport,[key]:!dataToExport[key]})},"handleCheckboxChange"),handlePaymentMethodChange=__name(method=>{setPaymentMethod(method)},"handlePaymentMethodChange"),handleProceedToPayment=__name(()=>{setCurrentStep("payment")},"handleProceedToPayment"),handleProcessPayment=__name(()=>{setPaymentInProgress(!0),setTimeout(()=>{setPaymentInProgress(!1),setShowEmailModal(!0)},2e3)},"handleProcessPayment"),handleCancelEmail=__name(()=>{setShowEmailModal(!1)},"handleCancelEmail"),handleConfirmEmail=__name(email=>{setUserEmail(email),setShowEmailModal(!1),setCurrentStep("exporting"),startExport()},"handleConfirmEmail"),startExport=__name(()=>{setExportInProgress(!0),setTimeout(()=>{setExportInProgress(!1),setExportComplete(!0),setCurrentStep("complete")},3e3)},"startExport"),handleLeaveApp=__name(()=>{navigate("/")},"handleLeaveApp");return jsxRuntimeExports.jsxs("div",{className:"export-all-data-screen",children:[jsxRuntimeExports.jsxs("div",{className:"export-all-data-container",children:[jsxRuntimeExports.jsx("div",{className:"top-app-bar",children:jsxRuntimeExports.jsxs("div",{className:"frame-14",children:[jsxRuntimeExports.jsx("div",{className:"back-icon",onClick:handleBack,children:jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M15.41 7.41L14 6L8 12L14 18L15.41 16.59L10.83 12L15.41 7.41Z",fill:"#FF704D"})})}),jsxRuntimeExports.jsx("div",{className:"header-title",children:"Export all data"})]})}),jsxRuntimeExports.jsxs("div",{className:"export-all-content",children:[currentStep==="options"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"section-title",children:"Export format"}),jsxRuntimeExports.jsxs("div",{className:"format-options",children:[jsxRuntimeExports.jsxs("div",{className:`format-option ${exportFormat==="zip"?"selected":""}`,onClick:()=>handleFormatChange("zip"),children:[jsxRuntimeExports.jsx("div",{className:"format-circle",children:exportFormat==="zip"&&jsxRuntimeExports.jsx("div",{className:"format-circle-inner"})}),jsxRuntimeExports.jsx("div",{className:"format-label",children:"ZIP"})]}),jsxRuntimeExports.jsxs("div",{className:`format-option ${exportFormat==="pdf"?"selected":""}`,onClick:()=>handleFormatChange("pdf"),children:[jsxRuntimeExports.jsx("div",{className:"format-circle",children:exportFormat==="pdf"&&jsxRuntimeExports.jsx("div",{className:"format-circle-inner"})}),jsxRuntimeExports.jsx("div",{className:"format-label",children:"PDF"})]})]}),jsxRuntimeExports.jsx("div",{className:"section-title",children:"Data to export"}),jsxRuntimeExports.jsxs("div",{className:"data-options",children:[jsxRuntimeExports.jsxs("div",{className:"data-option",children:[jsxRuntimeExports.jsx("div",{className:`checkbox ${dataToExport.timeline?"checked":""}`,onClick:()=>handleCheckboxChange("timeline"),children:dataToExport.timeline&&jsxRuntimeExports.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M9 16.2L4.8 12L3.4 13.4L9 19L21 7L19.6 5.6L9 16.2Z",fill:"#2C4CDF"})})}),jsxRuntimeExports.jsx("div",{className:"data-label",children:"Timeline"})]}),jsxRuntimeExports.jsxs("div",{className:"data-option",children:[jsxRuntimeExports.jsx("div",{className:`checkbox ${dataToExport.profileData?"checked":""}`,onClick:()=>handleCheckboxChange("profileData"),children:dataToExport.profileData&&jsxRuntimeExports.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M9 16.2L4.8 12L3.4 13.4L9 19L21 7L19.6 5.6L9 16.2Z",fill:"#2C4CDF"})})}),jsxRuntimeExports.jsx("div",{className:"data-label",children:"Profile Data"})]}),jsxRuntimeExports.jsxs("div",{className:"data-option",children:[jsxRuntimeExports.jsx("div",{className:`checkbox ${dataToExport.mediaFiles?"checked":""}`,onClick:()=>handleCheckboxChange("mediaFiles"),children:dataToExport.mediaFiles&&jsxRuntimeExports.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M9 16.2L4.8 12L3.4 13.4L9 19L21 7L19.6 5.6L9 16.2Z",fill:"#2C4CDF"})})}),jsxRuntimeExports.jsx("div",{className:"data-label",children:"Media Files"})]})]}),jsxRuntimeExports.jsxs("div",{className:"price-info",children:[jsxRuntimeExports.jsx("div",{className:"price-tag",children:"$5.99"}),jsxRuntimeExports.jsx("div",{className:"price-description",children:"One-time payment"})]}),jsxRuntimeExports.jsx("div",{className:"export-notice",children:jsxRuntimeExports.jsx("p",{children:"You are about to purchase and export all your data from Bonded. This will allow you to take your data with you. Once you leave, your account will be deactivated."})}),jsxRuntimeExports.jsx("button",{className:"export-all-btn",onClick:handleProceedToPayment,disabled:!Object.values(dataToExport).some(v=>v),children:jsxRuntimeExports.jsx("div",{className:"btn-text",children:"Proceed to Payment"})})]}),currentStep==="payment"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"section-title",children:"Payment method"}),jsxRuntimeExports.jsxs("div",{className:"payment-options",children:[jsxRuntimeExports.jsxs("div",{className:`payment-option ${paymentMethod==="creditCard"?"selected":""}`,onClick:()=>handlePaymentMethodChange("creditCard"),children:[jsxRuntimeExports.jsx("div",{className:"payment-circle",children:paymentMethod==="creditCard"&&jsxRuntimeExports.jsx("div",{className:"payment-circle-inner"})}),jsxRuntimeExports.jsx("div",{className:"payment-icon",children:jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M20 4H4C2.89 4 2.01 4.89 2.01 6L2 18C2 19.11 2.89 20 4 20H20C21.11 20 22 19.11 22 18V6C22 4.89 21.11 4 20 4ZM20 18H4V12H20V18ZM20 8H4V6H20V8Z",fill:"#FFFFFF"})})}),jsxRuntimeExports.jsx("div",{className:"payment-label",children:"Credit Card"})]}),jsxRuntimeExports.jsxs("div",{className:`payment-option ${paymentMethod==="paypal"?"selected":""}`,onClick:()=>handlePaymentMethodChange("paypal"),children:[jsxRuntimeExports.jsx("div",{className:"payment-circle",children:paymentMethod==="paypal"&&jsxRuntimeExports.jsx("div",{className:"payment-circle-inner"})}),jsxRuntimeExports.jsx("div",{className:"payment-icon",children:jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M17.5 5.7C17.3 5.3 17.1 5 16.8 4.8C16.6 4.6 16.3 4.5 16 4.5H7C6.7 4.5 6.4 4.6 6.1 4.8C5.9 5 5.7 5.3 5.5 5.7C5.3 6.1 5.2 6.6 5.2 7.1C5.2 7.8 5.4 8.5 5.7 9.1C5.3 9.1 5 9.2 4.8 9.4C4.6 9.6 4.5 9.9 4.5 10.2V13.5C4.5 13.8 4.6 14 4.7 14.2C4.9 14.4 5.1 14.5 5.3 14.5H10.8L11.6 16.5H6.5V17.5H13.5V16.5H13.4L12.6 14.5H17.7C17.9 14.5 18.1 14.4 18.3 14.2C18.4 14 18.5 13.8 18.5 13.5V10.2C18.5 9.9 18.4 9.6 18.2 9.4C18 9.2 17.7 9.1 17.3 9.1C17.6 8.5 17.8 7.8 17.8 7.1C17.8 6.6 17.7 6.1 17.5 5.7ZM17.5 13.5H5.5V10.5H17.5V13.5ZM7 8.5C6.7 8.3 6.5 8 6.4 7.6C6.3 7.2 6.3 6.9 6.3 6.6C6.3 6.3 6.4 6 6.5 5.8C6.6 5.6 6.8 5.5 7 5.5H16C16.2 5.5 16.4 5.6 16.5 5.8C16.6 6 16.7 6.3 16.7 6.6C16.7 6.9 16.7 7.2 16.6 7.6C16.5 8 16.3 8.3 16 8.5H7Z",fill:"#FFFFFF"})})}),jsxRuntimeExports.jsx("div",{className:"payment-label",children:"PayPal"})]})]}),jsxRuntimeExports.jsxs("div",{className:"payment-form",children:[paymentMethod==="creditCard"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Card Number"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456"})]}),jsxRuntimeExports.jsxs("div",{className:"form-row",children:[jsxRuntimeExports.jsxs("div",{className:"form-group half",children:[jsxRuntimeExports.jsx("label",{children:"Expiry Date"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"MM/YY"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group half",children:[jsxRuntimeExports.jsx("label",{children:"CVC"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"123"})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Cardholder Name"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"John Doe"})]})]}),paymentMethod==="paypal"&&jsxRuntimeExports.jsx("div",{className:"paypal-info",children:jsxRuntimeExports.jsx("p",{children:"You will be redirected to PayPal to complete your payment."})})]}),jsxRuntimeExports.jsxs("div",{className:"payment-summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-row",children:[jsxRuntimeExports.jsx("div",{className:"summary-label",children:"Export fee:"}),jsxRuntimeExports.jsx("div",{className:"summary-value",children:"$5.99"})]}),jsxRuntimeExports.jsxs("div",{className:"summary-row total",children:[jsxRuntimeExports.jsx("div",{className:"summary-label",children:"Total:"}),jsxRuntimeExports.jsx("div",{className:"summary-value",children:"$5.99"})]})]}),jsxRuntimeExports.jsxs("button",{className:`export-all-btn ${paymentInProgress?"loading":""}`,onClick:handleProcessPayment,disabled:paymentInProgress,children:[jsxRuntimeExports.jsx("div",{className:"btn-text",children:paymentInProgress?"Processing...":"Pay & Export"}),paymentInProgress&&jsxRuntimeExports.jsx("div",{className:"loading-spinner"})]})]}),currentStep==="exporting"&&jsxRuntimeExports.jsxs("div",{className:"exporting-state",children:[jsxRuntimeExports.jsx("div",{className:"exporting-icon",children:jsxRuntimeExports.jsx("div",{className:"big-spinner"})}),jsxRuntimeExports.jsx("div",{className:"exporting-text",children:"Exporting your data..."}),jsxRuntimeExports.jsx("div",{className:"exporting-subtext",children:"This may take a few moments"}),userEmail&&jsxRuntimeExports.jsxs("div",{className:"export-email-info",children:[jsxRuntimeExports.jsx("p",{children:"Your data will be sent to:"}),jsxRuntimeExports.jsx("p",{className:"export-email-address",children:userEmail})]})]}),currentStep==="complete"&&jsxRuntimeExports.jsxs("div",{className:"export-complete",children:[jsxRuntimeExports.jsx("div",{className:"complete-icon",children:jsxRuntimeExports.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",fill:"#B9FF46"})})}),jsxRuntimeExports.jsx("div",{className:"complete-text",children:"Export complete!"}),jsxRuntimeExports.jsx("div",{className:"complete-description",children:userEmail?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Your data has been exported successfully and sent to ",jsxRuntimeExports.jsx("span",{className:"email-highlight",children:userEmail}),"."]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Your data has been exported successfully and is ready for download."})}),jsxRuntimeExports.jsx("button",{className:"download-btn",children:jsxRuntimeExports.jsx("div",{className:"btn-text",children:"Download"})}),jsxRuntimeExports.jsx("button",{className:"leave-app-btn",onClick:handleLeaveApp,children:jsxRuntimeExports.jsx("div",{className:"btn-text",children:"Leave Bonded"})})]})]})]}),showEmailModal&&jsxRuntimeExports.jsx(ExportEmailModal,{onClose:handleCancelEmail,onConfirm:handleConfirmEmail})]})},"ExportAllData");export{ExportAllData};
