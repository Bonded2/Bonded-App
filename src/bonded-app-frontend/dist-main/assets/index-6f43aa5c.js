var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});import{u as useNavigate,r as reactExports,g as jsxRuntimeExports}from"./vendor-e6e658b6.js";import{TimestampFolder}from"./index-b8afbf61.js";import"./icp-sdk-b71c0736.js";import"./MediaScanner-9c55dca2.js";import"./GeoMetadataProvider-1b35b418.js";import"./DeleteModal-093423ee.js";const EXPORTABLE_CONTENT_TYPES=[{id:"photos",label:"Photos & Images",icon:"ðŸ“¸"},{id:"messages",label:"Text Messages & Chats",icon:"ðŸ’¬"},{id:"documents",label:"Documents & Certificates",icon:"ðŸ“„"},{id:"locations",label:"Location Data",icon:"ðŸ“"}],TIMELINE_DATA_KEY="bonded_timeline_data",TIMESTAMP_CONTENT_KEY="bonded_timestamp_content",ExportTimeline=__name(({onClose})=>{useNavigate();const[selectedDates,setSelectedDates]=reactExports.useState({}),[timelineData,setTimelineData]=reactExports.useState([]),[showTimestampFolder,setShowTimestampFolder]=reactExports.useState(!1),[selectedDateForEdit,setSelectedDateForEdit]=reactExports.useState(""),[animatedItems,setAnimatedItems]=reactExports.useState([]),contentRef=reactExports.useRef(null),[expandedDates,setExpandedDates]=reactExports.useState({}),[evidenceItems,setEvidenceItems]=reactExports.useState({}),[dateRangeFilter,setDateRangeFilter]=reactExports.useState({start:"",end:""}),[searchQuery,setSearchQuery]=reactExports.useState(""),[isAdvancedFilterOpen,setIsAdvancedFilterOpen]=reactExports.useState(!1),[exportDetails,setExportDetails]=reactExports.useState({size:"0 MB",itemCount:0}),[loading,setLoading]=reactExports.useState(!0),[selectedContentTypes,setSelectedContentTypes]=reactExports.useState(EXPORTABLE_CONTENT_TYPES.reduce((acc,type)=>({...acc,[type.id]:!0}),{})),[isGeneratingPdf,setIsGeneratingPdf]=reactExports.useState(!1),[pdfProgress,setPdfProgress]=reactExports.useState(0),[previewMode,setPreviewMode]=reactExports.useState(!1),[exportFormat,setExportFormat]=reactExports.useState("pdf"),[showSuccessMessage,setShowSuccessMessage]=reactExports.useState(!1),[selectionMode,setSelectionMode]=reactExports.useState("date");reactExports.useEffect(()=>{loadTimelineData()},[]),reactExports.useEffect(()=>{calculateExportStats()},[selectedDates,evidenceItems,selectedContentTypes]),reactExports.useEffect(()=>{if(Object.keys(selectedDates).length>0){const timer=setTimeout(()=>{setAnimatedItems(Object.keys(selectedDates))},300);return()=>clearTimeout(timer)}},[selectedDates]);const loadTimelineData=__name(async()=>{setLoading(!0);try{const savedTimelineData=localStorage.getItem(TIMELINE_DATA_KEY),savedContentData=localStorage.getItem(TIMESTAMP_CONTENT_KEY);if(savedTimelineData){const parsedTimelineData=JSON.parse(savedTimelineData);setTimelineData(parsedTimelineData);const dateSelectionMap={};if(parsedTimelineData.forEach(item=>{item.date&&(dateSelectionMap[item.date]=!1)}),setSelectedDates(dateSelectionMap),savedContentData){const parsedContentData=JSON.parse(savedContentData),processedEvidenceItems={};Object.keys(parsedContentData).forEach(date=>{const items=parsedContentData[date];processedEvidenceItems[date]=items.map(item=>({id:item.id||`${date}-${Math.random().toString(36).substr(2,9)}`,type:mapContentTypeToExportable(item.type),title:item.name||`Item ${Math.floor(Math.random()*1e3)}`,selected:!1,originalItem:item}))}),setEvidenceItems(processedEvidenceItems)}}}catch{showNotification("Failed to load timeline data. Please try again.")}finally{setLoading(!1)}},"loadTimelineData"),mapContentTypeToExportable=__name(originalType=>originalType?originalType.includes("photo")||originalType.includes("image")?"photos":originalType.includes("message")||originalType.includes("chat")?"messages":originalType.includes("location")?"locations":"documents":"documents","mapContentTypeToExportable"),calculateExportStats=__name(()=>{let count=0,size=0;Object.keys(evidenceItems).forEach(date=>{selectedDates[date]&&evidenceItems[date]?.forEach(item=>{item.selected&&selectedContentTypes[item.type]&&(count++,item.originalItem&&item.originalItem.size?size+=parseFloat(item.originalItem.size)/(1024*1024):size+=Math.random()*2+.5)})}),setExportDetails({size:`${size.toFixed(1)} MB`,itemCount:count})},"calculateExportStats"),handleRemove=__name((date,e)=>{e.stopPropagation(),setAnimatedItems(prev=>prev.filter(item=>item!==date)),setTimeout(()=>{setSelectedDates(prev=>({...prev,[date]:!1})),setEvidenceItems(prevItems=>{const newItems={...prevItems};return newItems[date]&&(newItems[date]=newItems[date].map(item=>({...item,selected:!1}))),newItems})},300)},"handleRemove"),handleToggleSelectDate=__name(date=>{setSelectedDates(prev=>{const newSelectedDates={...prev,[date]:!prev[date]};return setEvidenceItems(prevItems=>{const newItems={...prevItems};return newItems[date]&&(newItems[date]=newItems[date].map(item=>({...item,selected:!prev[date]}))),newItems}),newSelectedDates})},"handleToggleSelectDate"),handleToggleExpandDate=__name((date,e)=>{e.stopPropagation(),setExpandedDates(prev=>({...prev,[date]:!prev[date]}))},"handleToggleExpandDate"),handleToggleSelectEvidence=__name((date,itemId)=>{setEvidenceItems(prevItems=>{const newItems={...prevItems},dateItems=[...newItems[date]||[]],itemIndex=dateItems.findIndex(item=>item.id===itemId);if(itemIndex!==-1){dateItems[itemIndex]={...dateItems[itemIndex],selected:!dateItems[itemIndex].selected},newItems[date]=dateItems;const allSelected=dateItems.every(item=>item.selected);dateItems.every(item=>!item.selected)?setSelectedDates(prev=>({...prev,[date]:!1})):allSelected&&setSelectedDates(prev=>({...prev,[date]:!0}))}return newItems})},"handleToggleSelectEvidence"),handleEditClick=__name((date,e)=>{e.stopPropagation(),setSelectedDateForEdit(date),setShowTimestampFolder(!0)},"handleEditClick"),handleCloseTimestampFolder=__name(()=>{setShowTimestampFolder(!1),loadTimelineData()},"handleCloseTimestampFolder"),handleContentTypeChange=__name(contentTypeId=>{setSelectedContentTypes(prev=>({...prev,[contentTypeId]:!prev[contentTypeId]})),contentRef.current&&(contentRef.current.classList.add("pulse-animation"),setTimeout(()=>{contentRef.current.classList.remove("pulse-animation")},500))},"handleContentTypeChange"),togglePreviewMode=__name(()=>{setPreviewMode(prev=>!prev)},"togglePreviewMode"),toggleAdvancedFilter=__name(()=>{setIsAdvancedFilterOpen(prev=>!prev)},"toggleAdvancedFilter"),handleDateRangeChange=__name(e=>{const{name,value}=e.target;setDateRangeFilter(prev=>({...prev,[name]:value}))},"handleDateRangeChange"),applyDateRangeFilter=__name(()=>{if(!dateRangeFilter.start||!dateRangeFilter.end){showNotification("Please select both start and end dates");return}const startDate=new Date(dateRangeFilter.start),endDate=new Date(dateRangeFilter.end);if(startDate>endDate){showNotification("Start date must be before end date");return}const filteredDates={};timelineData.forEach(item=>{const itemDate=new Date(item.date);itemDate>=startDate&&itemDate<=endDate&&(filteredDates[item.date]=selectedDates[item.date]||!1)}),setSelectedDates(filteredDates),showNotification(`Filtered to dates between ${dateRangeFilter.start} and ${dateRangeFilter.end}`)},"applyDateRangeFilter"),handleSearchChange=__name(e=>{setSearchQuery(e.target.value)},"handleSearchChange"),searchEvidenceItems=__name(()=>{if(!searchQuery.trim()){showNotification("Please enter a search term");return}const query=searchQuery.toLowerCase();let foundAny=!1;Object.keys(evidenceItems).forEach(date=>{(evidenceItems[date]||[]).filter(item=>item.title.toLowerCase().includes(query)||item.type.toLowerCase().includes(query)).length>0&&(foundAny=!0,setEvidenceItems(prev=>({...prev,[date]:prev[date].map(item=>({...item,isSearchMatch:item.title.toLowerCase().includes(query)||item.type.toLowerCase().includes(query)}))})),setExpandedDates(prev=>({...prev,[date]:!0})))}),showNotification(foundAny?`Found matches for "${searchQuery}"`:`No matches found for "${searchQuery}"`)},"searchEvidenceItems"),handleGeneratePdf=__name(()=>{let selectedItemCount=0;if(Object.keys(evidenceItems).forEach(date=>{selectedDates[date]&&(evidenceItems[date]||[]).forEach(item=>{item.selected&&selectedContentTypes[item.type]&&selectedItemCount++})}),selectedItemCount===0){showNotification("Please select at least one evidence item to export.");return}setIsGeneratingPdf(!0),setPdfProgress(0);let currentProgress=0;const interval=setInterval(()=>{currentProgress+=5,currentProgress<=100?setPdfProgress(currentProgress):(clearInterval(interval),setIsGeneratingPdf(!1),setShowSuccessMessage(!0),setTimeout(()=>{setShowSuccessMessage(!1)},5e3))},100)},"handleGeneratePdf"),handleSelectAll=__name(()=>{const allDates=Object.keys(evidenceItems);setSelectedDates(allDates.reduce((acc,date)=>({...acc,[date]:!0}),{})),setEvidenceItems(prevItems=>{const newItems={...prevItems};return Object.keys(newItems).forEach(date=>{newItems[date]&&(newItems[date]=newItems[date].map(item=>({...item,selected:!0})))}),newItems}),showNotification("Selected all timeline evidence")},"handleSelectAll"),handleDeselectAll=__name(()=>{setSelectedDates(Object.keys(evidenceItems).reduce((acc,date)=>({...acc,[date]:!1}),{})),setEvidenceItems(prevItems=>{const newItems={...prevItems};return Object.keys(newItems).forEach(date=>{newItems[date]&&(newItems[date]=newItems[date].map(item=>({...item,selected:!1})))}),newItems}),showNotification("Deselected all timeline evidence")},"handleDeselectAll"),showNotification=__name(message=>{const notification=document.createElement("div");notification.className="export-notification",notification.textContent=message,document.body.appendChild(notification),setTimeout(()=>{notification.classList.add("show")},10),setTimeout(()=>{notification.classList.remove("show"),setTimeout(()=>{document.body.removeChild(notification)},300)},3e3)},"showNotification"),handleBack=__name(()=>{onClose&&onClose()},"handleBack");if(showTimestampFolder)return jsxRuntimeExports.jsx(TimestampFolder,{onClose:handleCloseTimestampFolder,date:selectedDateForEdit});const countSelectedDates=Object.keys(selectedDates).filter(date=>selectedDates[date]).length;return jsxRuntimeExports.jsx("div",{className:"export-timeline-screen",children:jsxRuntimeExports.jsxs("div",{className:"export-timeline-container",children:[jsxRuntimeExports.jsxs("div",{className:"export-header",children:[jsxRuntimeExports.jsxs("button",{className:"back-button-et",onClick:handleBack,"aria-label":"Go back",children:[jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M15.41 7.41L14 6L8 12L14 18L15.41 16.59L10.83 12L15.41 7.41Z",fill:"#FF704D"})}),jsxRuntimeExports.jsx("span",{children:"Back"})]}),jsxRuntimeExports.jsx("h2",{className:"export-timeline-title",children:"Export Timeline"}),jsxRuntimeExports.jsxs("div",{className:"export-format-toggle",children:[jsxRuntimeExports.jsx("button",{className:`format-option ${exportFormat==="pdf"?"active":""}`,onClick:()=>setExportFormat("pdf"),children:"PDF"}),jsxRuntimeExports.jsx("button",{className:`format-option ${exportFormat==="zip"?"active":""}`,onClick:()=>setExportFormat("zip"),children:"ZIP"})]})]}),jsxRuntimeExports.jsx("div",{className:"export-timeline-content",ref:contentRef,children:loading?jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"loading-spinner"}),jsxRuntimeExports.jsx("p",{children:"Loading timeline data..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"export-summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-details",children:[jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-icon",children:"ðŸ“Š"}),jsxRuntimeExports.jsxs("div",{className:"summary-text",children:[jsxRuntimeExports.jsx("span",{className:"summary-value",children:exportDetails.itemCount}),jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Items"})]})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-icon",children:"ðŸ’¾"}),jsxRuntimeExports.jsxs("div",{className:"summary-text",children:[jsxRuntimeExports.jsx("span",{className:"summary-value",children:exportDetails.size}),jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Size"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"selection-mode-toggle",children:[jsxRuntimeExports.jsx("button",{className:`mode-btn ${selectionMode==="date"?"active":""}`,onClick:()=>setSelectionMode("date"),children:"Date Selection"}),jsxRuntimeExports.jsx("button",{className:`mode-btn ${selectionMode==="individual"?"active":""}`,onClick:()=>setSelectionMode("individual"),children:"Individual Selection"})]})]}),jsxRuntimeExports.jsxs("div",{className:"search-filter-section",children:[jsxRuntimeExports.jsxs("div",{className:"search-container",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search evidence...",value:searchQuery,onChange:handleSearchChange,className:"search-input"}),jsxRuntimeExports.jsx("button",{className:"search-btn",onClick:searchEvidenceItems,children:jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",fill:"currentColor"})})})]}),jsxRuntimeExports.jsxs("button",{className:`advanced-filter-toggle ${isAdvancedFilterOpen?"active":""}`,onClick:toggleAdvancedFilter,children:["Advanced Filters",jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",style:{transform:isAdvancedFilterOpen?"rotate(180deg)":"rotate(0)"},children:jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z",fill:"currentColor"})})]}),isAdvancedFilterOpen&&jsxRuntimeExports.jsxs("div",{className:"advanced-filters",children:[jsxRuntimeExports.jsxs("div",{className:"date-range-filter",children:[jsxRuntimeExports.jsx("h4",{children:"Date Range"}),jsxRuntimeExports.jsxs("div",{className:"date-inputs",children:[jsxRuntimeExports.jsx("input",{type:"date",name:"start",value:dateRangeFilter.start,onChange:handleDateRangeChange,className:"date-input"}),jsxRuntimeExports.jsx("span",{children:"to"}),jsxRuntimeExports.jsx("input",{type:"date",name:"end",value:dateRangeFilter.end,onChange:handleDateRangeChange,className:"date-input"})]}),jsxRuntimeExports.jsx("button",{className:"apply-filter-btn",onClick:applyDateRangeFilter,children:"Apply Filter"})]}),jsxRuntimeExports.jsxs("div",{className:"selection-actions",children:[jsxRuntimeExports.jsx("button",{className:"select-all-btn",onClick:handleSelectAll,children:"Select All"}),jsxRuntimeExports.jsx("button",{className:"deselect-all-btn",onClick:handleDeselectAll,children:"Deselect All"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"date-selection-section",children:[jsxRuntimeExports.jsxs("div",{className:"section-header",children:[jsxRuntimeExports.jsx("h3",{className:"section-heading",children:"Timeline Evidence"}),jsxRuntimeExports.jsxs("span",{className:"date-counter",children:[countSelectedDates," dates selected"]}),countSelectedDates>0&&jsxRuntimeExports.jsx("button",{className:"preview-toggle-button",onClick:togglePreviewMode,children:previewMode?"Hide Preview":"Show Preview"})]}),jsxRuntimeExports.jsxs("div",{className:"dates-list",children:[Object.keys(selectedDates).length===0?jsxRuntimeExports.jsxs("div",{className:"no-timeline-data",children:[jsxRuntimeExports.jsx("p",{children:"No timeline data available."}),jsxRuntimeExports.jsx("p",{className:"helper-text",children:"Create timeline evidence first or check your settings."})]}):Object.keys(evidenceItems).filter(date=>selectedDates[date]||!previewMode).map(date=>jsxRuntimeExports.jsxs("div",{className:"date-container",children:[jsxRuntimeExports.jsxs("div",{className:`content-row selectable-date ${selectedDates[date]?"is-selected":""} ${animatedItems.includes(date)?"animated":""}`,onClick:()=>selectionMode==="date"?handleToggleSelectDate(date):null,tabIndex:0,onKeyPress:e=>e.key==="Enter"&&selectionMode==="date"&&handleToggleSelectDate(date),role:"checkbox","aria-checked":selectedDates[date],children:[selectionMode==="date"&&jsxRuntimeExports.jsx("div",{className:"select-indicator"}),jsxRuntimeExports.jsx("div",{className:"date-color-indicator",style:{backgroundColor:getColorForDate(date)}}),jsxRuntimeExports.jsx("div",{className:"date-text",children:date}),jsxRuntimeExports.jsx("div",{className:"content-preview",children:evidenceItems[date]&&evidenceItems[date].filter(item=>item.selected&&selectedContentTypes[item.type]).map(item=>jsxRuntimeExports.jsx("span",{className:"content-type-badge",children:EXPORTABLE_CONTENT_TYPES.find(ct=>ct.id===item.type)?.icon},item.id))}),jsxRuntimeExports.jsxs("div",{className:"row-actions",children:[jsxRuntimeExports.jsx("button",{className:`action-btn expand-btn ${expandedDates[date]?"expanded":""}`,onClick:e=>handleToggleExpandDate(date,e),"aria-label":`${expandedDates[date]?"Collapse":"Expand"} date ${date}`,children:jsxRuntimeExports.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("button",{className:"action-btn edit-btn",onClick:e=>handleEditClick(date,e),"aria-label":`Edit date ${date}`,children:jsxRuntimeExports.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zm17.71-7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("button",{className:"action-btn remove-btn",onClick:e=>handleRemove(date,e),"aria-label":`Remove date ${date}`,children:jsxRuntimeExports.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})})})]})]}),expandedDates[date]&&evidenceItems[date]&&jsxRuntimeExports.jsx("div",{className:"evidence-items-list",children:evidenceItems[date].length===0?jsxRuntimeExports.jsx("div",{className:"no-evidence-items",children:jsxRuntimeExports.jsx("p",{children:"No evidence items found for this date."})}):evidenceItems[date].map(item=>jsxRuntimeExports.jsxs("div",{className:`evidence-item ${item.selected?"selected":""} ${item.isSearchMatch?"search-match":""}`,onClick:()=>handleToggleSelectEvidence(date,item.id),children:[jsxRuntimeExports.jsxs("div",{className:"evidence-item-checkbox",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:item.selected,onChange:()=>{},id:`checkbox-${item.id}`}),jsxRuntimeExports.jsx("label",{htmlFor:`checkbox-${item.id}`})]}),jsxRuntimeExports.jsx("span",{className:"evidence-item-icon",children:EXPORTABLE_CONTENT_TYPES.find(ct=>ct.id===item.type)?.icon}),jsxRuntimeExports.jsx("span",{className:"evidence-item-title",children:item.title}),jsxRuntimeExports.jsx("span",{className:"evidence-item-type",children:item.type})]},item.id))})]},date)),countSelectedDates===0&&Object.keys(selectedDates).length>0&&jsxRuntimeExports.jsxs("div",{className:"no-dates-selected",children:[jsxRuntimeExports.jsx("p",{children:"No dates currently selected"}),jsxRuntimeExports.jsx("p",{className:"helper-text",children:"Click on a date row to select it for export"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`content-type-section ${exportFormat==="pdf"?"show":"hide"}`,children:[jsxRuntimeExports.jsxs("h3",{className:"section-heading",children:["Include in ",exportFormat.toUpperCase()]}),jsxRuntimeExports.jsx("div",{className:"content-types-grid",children:EXPORTABLE_CONTENT_TYPES.map(type=>jsxRuntimeExports.jsxs("label",{className:`content-type-card ${selectedContentTypes[type.id]?"selected":""}`,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:selectedContentTypes[type.id]||!1,onChange:()=>handleContentTypeChange(type.id),disabled:isGeneratingPdf}),jsxRuntimeExports.jsx("span",{className:"content-type-icon",children:type.icon}),jsxRuntimeExports.jsx("span",{className:"content-type-label",children:type.label})]},type.id))})]}),isGeneratingPdf&&jsxRuntimeExports.jsxs("div",{className:"progress-container",children:[jsxRuntimeExports.jsx("div",{className:"progress-bar-container",children:jsxRuntimeExports.jsx("div",{className:"progress-bar",style:{width:`${pdfProgress}%`},children:jsxRuntimeExports.jsxs("span",{className:"progress-text",children:[pdfProgress,"%"]})})}),jsxRuntimeExports.jsx("div",{className:"progress-status",children:jsxRuntimeExports.jsx("p",{children:pdfProgress<30?"Analyzing data...":pdfProgress<60?"Processing content...":pdfProgress<90?"Generating export...":"Finalizing..."})})]}),showSuccessMessage&&jsxRuntimeExports.jsxs("div",{className:"success-message",children:[jsxRuntimeExports.jsx("div",{className:"success-icon",children:"âœ“"}),jsxRuntimeExports.jsxs("div",{className:"success-text",children:[jsxRuntimeExports.jsx("h4",{children:"Export Successful!"}),jsxRuntimeExports.jsxs("p",{children:["Your ",exportFormat.toUpperCase()," has been generated and downloaded."]})]})]}),jsxRuntimeExports.jsxs("div",{className:"export-actions",children:[jsxRuntimeExports.jsx("button",{className:`export-action-btn ${exportFormat}-btn`,onClick:handleGeneratePdf,disabled:isGeneratingPdf||exportDetails.itemCount===0,children:isGeneratingPdf?"Processing...":`Generate & Download ${exportFormat.toUpperCase()}`}),exportDetails.itemCount>0&&jsxRuntimeExports.jsxs("div",{className:"export-stats",children:[jsxRuntimeExports.jsxs("div",{className:"stat-item",children:[jsxRuntimeExports.jsx("span",{className:"stat-label",children:"Dates:"}),jsxRuntimeExports.jsx("span",{className:"stat-value",children:countSelectedDates})]}),jsxRuntimeExports.jsxs("div",{className:"stat-item",children:[jsxRuntimeExports.jsx("span",{className:"stat-label",children:"Items:"}),jsxRuntimeExports.jsx("span",{className:"stat-value",children:exportDetails.itemCount})]}),jsxRuntimeExports.jsxs("div",{className:"stat-item",children:[jsxRuntimeExports.jsx("span",{className:"stat-label",children:"Size:"}),jsxRuntimeExports.jsx("span",{className:"stat-value",children:exportDetails.size})]})]})]})]})})]})})},"ExportTimeline");function getColorForDate(date){const colors=["#FF704D","#1E8CFC","#B9FF46","#FFC107","#9C27B0"];let hash=0;for(let i=0;i<date.length;i++)hash=date.charCodeAt(i)+((hash<<5)-hash);return colors[Math.abs(hash)%colors.length]}__name(getColorForDate,"getColorForDate");export{ExportTimeline};
