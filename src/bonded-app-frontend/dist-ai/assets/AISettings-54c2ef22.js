var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});import{_ as __vitePreload}from"./icp-sdk-b71c0736.js";import{r as reactExports,g as jsxRuntimeExports,u as useNavigate}from"./vendor-e6e658b6.js";import{T as TopAppBar}from"./TopAppBar-eb3f5630.js";import{A as AIClassificationTest}from"./AIClassificationTest-77ebfddf.js";import{a as autoAIScanner,b as aiClassificationService}from"./autoAIScanner-741976ef.js";import"./timelineService-a34b98cd.js";import"./encryption-3413e488.js";import"./icpCanisterService-30902200.js";import"./index-ed0f0e28.js";import"./mediaAccess-9b6d075b.js";const AutomatedTelegramSetup=__name(({userId,partnerEmail,onSetupComplete,onError,onSkip})=>{const[setupStep,setSetupStep]=reactExports.useState("request_permission"),[isLoading,setIsLoading]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),[botToken,setBotToken]=reactExports.useState(""),[chatId,setChatId]=reactExports.useState(""),steps={request_permission:{title:"🤖 Enable Telegram Integration?",description:"Bonded can automatically collect evidence from your Telegram conversations with your partner. This helps build a stronger timeline of your relationship."},bot_setup:{title:"📱 Set Up Telegram Bot",description:"Follow these simple steps to connect your Telegram account:"},chat_setup:{title:"💬 Connect Your Chat",description:"Now we need to connect your chat with your partner:"},completed:{title:"✅ Telegram Connected!",description:"Your Telegram integration is now active and collecting evidence."}},handleRequestPermission=__name(async()=>{try{setIsLoading(!0),setError(null);const existingSetup=await checkExistingTelegramSetup();if(existingSetup){setSetupStep("completed"),onSetupComplete?.(existingSetup);return}setSetupStep("bot_setup")}catch(err){setError(err.message)}finally{setIsLoading(!1)}},"handleRequestPermission"),checkExistingTelegramSetup=__name(async()=>{try{const{default:realCanisterStorage}=await __vitePreload(()=>import("./realCanisterStorage-e1d3a70a.js"),["assets/realCanisterStorage-e1d3a70a.js","assets/canisterIntegration-a5c53e9e.js","assets/vendor-e6e658b6.js","assets/icp-sdk-b71c0736.js","assets/index-ed0f0e28.js","assets/icpNetworkHelper-2c245b46.js","assets/emailService-11bba984.js"]),telegramData=await realCanisterStorage.getItem(`telegram_setup_${userId}`);return telegramData?JSON.parse(telegramData):null}catch{return null}},"checkExistingTelegramSetup"),handleBotSetup=__name(async()=>{if(!botToken.trim()){setError("Please enter your bot token");return}try{if(setIsLoading(!0),setError(null),!await validateBotToken(botToken)){setError("Invalid bot token. Please check and try again.");return}await storeTelegramCredentials({botToken}),setSetupStep("chat_setup")}catch(err){setError(err.message)}finally{setIsLoading(!1)}},"handleBotSetup"),handleChatSetup=__name(async()=>{if(!chatId.trim()){setError("Please enter your chat ID");return}try{if(setIsLoading(!0),setError(null),!await validateChatAccess(botToken,chatId)){setError("Cannot access this chat. Please check your chat ID and bot permissions.");return}const setupData={botToken,chatId,partnerEmail,setupAt:new Date().toISOString()};await storeTelegramCredentials(setupData),setSetupStep("completed"),onSetupComplete?.(setupData)}catch(err){setError(err.message)}finally{setIsLoading(!1)}},"handleChatSetup"),validateBotToken=__name(async token=>{try{return(await(await fetch(`https://api.telegram.org/bot${token}/getMe`)).json()).ok}catch{return!1}},"validateBotToken"),validateChatAccess=__name(async(token,chatId2)=>{try{return(await(await fetch(`https://api.telegram.org/bot${token}/getChat?chat_id=${chatId2}`)).json()).ok}catch{return!1}},"validateChatAccess"),storeTelegramCredentials=__name(async data=>{try{const{default:realCanisterStorage}=await __vitePreload(()=>import("./realCanisterStorage-e1d3a70a.js"),["assets/realCanisterStorage-e1d3a70a.js","assets/canisterIntegration-a5c53e9e.js","assets/vendor-e6e658b6.js","assets/icp-sdk-b71c0736.js","assets/index-ed0f0e28.js","assets/icpNetworkHelper-2c245b46.js","assets/emailService-11bba984.js"]);await realCanisterStorage.setItem(`telegram_setup_${userId}`,JSON.stringify(data))}catch{localStorage.setItem(`telegram_setup_${userId}`,JSON.stringify(data))}},"storeTelegramCredentials"),handleSkip=__name(()=>{onSkip?.()},"handleSkip"),handleRetry=__name(()=>{setError(null),setSetupStep("request_permission")},"handleRetry"),currentStep=steps[setupStep];return isLoading?jsxRuntimeExports.jsxs("div",{className:"automated-telegram-setup loading",children:[jsxRuntimeExports.jsx("div",{className:"loading-spinner"}),jsxRuntimeExports.jsx("p",{children:"Setting up Telegram integration..."})]}):error?jsxRuntimeExports.jsxs("div",{className:"automated-telegram-setup error",children:[jsxRuntimeExports.jsx("h3",{children:"Setup Error"}),jsxRuntimeExports.jsx("p",{children:error}),jsxRuntimeExports.jsxs("div",{className:"action-buttons",children:[jsxRuntimeExports.jsx("button",{onClick:handleRetry,className:"retry-button",children:"Try Again"}),jsxRuntimeExports.jsx("button",{onClick:handleSkip,className:"skip-button",children:"Skip for Now"})]})]}):jsxRuntimeExports.jsxs("div",{className:"automated-telegram-setup",children:[jsxRuntimeExports.jsx("h3",{children:currentStep.title}),jsxRuntimeExports.jsx("p",{children:currentStep.description}),setupStep==="request_permission"&&jsxRuntimeExports.jsxs("div",{className:"permission-step",children:[jsxRuntimeExports.jsxs("div",{className:"features",children:[jsxRuntimeExports.jsxs("div",{className:"feature-item",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"💬"}),jsxRuntimeExports.jsx("span",{children:"Automatically collect messages"})]}),jsxRuntimeExports.jsxs("div",{className:"feature-item",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"📸"}),jsxRuntimeExports.jsx("span",{children:"Include photos and media"})]}),jsxRuntimeExports.jsxs("div",{className:"feature-item",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"🔒"}),jsxRuntimeExports.jsx("span",{children:"Fully encrypted and private"})]})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons",children:[jsxRuntimeExports.jsx("button",{onClick:handleRequestPermission,className:"setup-button primary",disabled:isLoading,children:"Enable Telegram Integration"}),jsxRuntimeExports.jsx("button",{onClick:handleSkip,className:"skip-button secondary",children:"Skip for Now"})]})]}),setupStep==="bot_setup"&&jsxRuntimeExports.jsxs("div",{className:"bot-setup-step",children:[jsxRuntimeExports.jsxs("div",{className:"instructions",children:[jsxRuntimeExports.jsx("h4",{children:"Create Your Telegram Bot:"}),jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsxs("li",{children:["Open Telegram and search for ",jsxRuntimeExports.jsx("strong",{children:"@BotFather"})]}),jsxRuntimeExports.jsxs("li",{children:["Send ",jsxRuntimeExports.jsx("code",{children:"/newbot"})," to create a new bot"]}),jsxRuntimeExports.jsx("li",{children:"Follow the instructions to name your bot"}),jsxRuntimeExports.jsx("li",{children:"Copy the bot token that BotFather gives you"}),jsxRuntimeExports.jsx("li",{children:"Paste it below:"})]})]}),jsxRuntimeExports.jsxs("div",{className:"input-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"botToken",children:"Bot Token:"}),jsxRuntimeExports.jsx("input",{id:"botToken",type:"text",value:botToken,onChange:e=>setBotToken(e.target.value),placeholder:"123456789:ABC-DEF1234567890...",className:"bot-token-input"})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons",children:[jsxRuntimeExports.jsx("button",{onClick:handleBotSetup,className:"setup-button primary",disabled:isLoading||!botToken.trim(),children:"Connect Bot"}),jsxRuntimeExports.jsx("button",{onClick:()=>setSetupStep("request_permission"),className:"back-button secondary",children:"Back"})]})]}),setupStep==="chat_setup"&&jsxRuntimeExports.jsxs("div",{className:"chat-setup-step",children:[jsxRuntimeExports.jsxs("div",{className:"instructions",children:[jsxRuntimeExports.jsx("h4",{children:"Connect Your Chat:"}),jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsx("li",{children:"Add your bot to the chat with your partner"}),jsxRuntimeExports.jsx("li",{children:"Send any message in the chat"}),jsxRuntimeExports.jsxs("li",{children:["Forward that message to ",jsxRuntimeExports.jsx("strong",{children:"@username_to_id_bot"})]}),jsxRuntimeExports.jsx("li",{children:"Copy the chat ID that the bot gives you"}),jsxRuntimeExports.jsx("li",{children:"Paste it below:"})]})]}),jsxRuntimeExports.jsxs("div",{className:"input-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"chatId",children:"Chat ID:"}),jsxRuntimeExports.jsx("input",{id:"chatId",type:"text",value:chatId,onChange:e=>setChatId(e.target.value),placeholder:"-123456789",className:"chat-id-input"})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons",children:[jsxRuntimeExports.jsx("button",{onClick:handleChatSetup,className:"setup-button primary",disabled:isLoading||!chatId.trim(),children:"Complete Setup"}),jsxRuntimeExports.jsx("button",{onClick:()=>setSetupStep("bot_setup"),className:"back-button secondary",children:"Back"})]})]}),setupStep==="completed"&&jsxRuntimeExports.jsxs("div",{className:"completed-step",children:[jsxRuntimeExports.jsxs("div",{className:"success-message",children:[jsxRuntimeExports.jsx("span",{className:"success-icon",children:"🎉"}),jsxRuntimeExports.jsx("p",{children:"Telegram integration is now collecting relationship evidence automatically!"})]}),jsxRuntimeExports.jsxs("div",{className:"next-steps",children:[jsxRuntimeExports.jsx("h4",{children:"What happens next:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Messages are scanned automatically"}),jsxRuntimeExports.jsx("li",{children:"Appropriate content is added to your timeline"}),jsxRuntimeExports.jsx("li",{children:"Everything is encrypted and secure"})]})]}),jsxRuntimeExports.jsx("div",{className:"action-buttons",children:jsxRuntimeExports.jsx("button",{onClick:()=>onSetupComplete?.({}),className:"done-button primary",children:"Done"})})]})]})},"AutomatedTelegramSetup");const AISettings=__name(()=>{const navigate=useNavigate(),[showTest,setShowTest]=reactExports.useState(!1),[showTelegramSetup,setShowTelegramSetup]=reactExports.useState(!1),[telegramEnabled,setTelegramEnabled]=reactExports.useState(!1),[aiSettings,setAiSettings]=reactExports.useState({computerVision:{enabled:!0,confidenceThreshold:.7,humanDetection:!0,nudityFilter:!0,faceRecognition:!1},textualAnalysis:{enabled:!0,confidenceThreshold:.8,explicitContentFilter:!0,sentimentAnalysis:!0}}),[isInitialized,setIsInitialized]=reactExports.useState(!1),[initializationStatus,setInitializationStatus]=reactExports.useState(""),[scannerSettings,setScannerSettings]=reactExports.useState(autoAIScanner.settings),[scanStatus,setScanStatus]=reactExports.useState(autoAIScanner.getScanStatus()),[scanResults,setScanResults]=reactExports.useState(null);reactExports.useEffect(()=>{__name(async()=>{try{const{default:realCanisterStorage}=await __vitePreload(()=>import("./realCanisterStorage-e1d3a70a.js"),["assets/realCanisterStorage-e1d3a70a.js","assets/canisterIntegration-a5c53e9e.js","assets/vendor-e6e658b6.js","assets/icp-sdk-b71c0736.js","assets/index-ed0f0e28.js","assets/icpNetworkHelper-2c245b46.js","assets/emailService-11bba984.js"]),savedSettings=await realCanisterStorage.getItem("bonded_ai_settings");savedSettings&&setAiSettings(JSON.parse(savedSettings));const userId="current_user",telegramData=await realCanisterStorage.getItem(`telegram_setup_${userId}`);setTelegramEnabled(!!telegramData)}catch{const savedSettings=localStorage.getItem("bonded_ai_settings");savedSettings&&setAiSettings(JSON.parse(savedSettings))}},"loadSettings")(),initializeAI();const scannerObserver=__name((event,data)=>{switch(event){case"scanStarted":setScanStatus(autoAIScanner.getScanStatus());break;case"scanProgress":setScanStatus(autoAIScanner.getScanStatus());break;case"scanCompleted":setScanStatus(autoAIScanner.getScanStatus()),setScanResults(data);break;case"settingsUpdated":setScannerSettings(data);break}},"scannerObserver");return autoAIScanner.addObserver(scannerObserver),()=>{autoAIScanner.removeObserver(scannerObserver)}},[]);const initializeAI=__name(async()=>{setInitializationStatus("Initializing AI models...");try{const success=await aiClassificationService.initialize();setIsInitialized(success),setInitializationStatus(success?"AI models ready":"Failed to initialize AI models")}catch{setInitializationStatus("AI initialization failed"),setIsInitialized(!1)}},"initializeAI"),handleSettingChange=__name(async(category,setting,value)=>{const newSettings={...aiSettings,[category]:{...aiSettings[category],[setting]:value}};setAiSettings(newSettings);try{const{default:realCanisterStorage}=await __vitePreload(()=>import("./realCanisterStorage-e1d3a70a.js"),["assets/realCanisterStorage-e1d3a70a.js","assets/canisterIntegration-a5c53e9e.js","assets/vendor-e6e658b6.js","assets/icp-sdk-b71c0736.js","assets/index-ed0f0e28.js","assets/icpNetworkHelper-2c245b46.js","assets/emailService-11bba984.js"]);await realCanisterStorage.setItem("bonded_ai_settings",JSON.stringify(newSettings))}catch{localStorage.setItem("bonded_ai_settings",JSON.stringify(newSettings))}},"handleSettingChange"),handleScannerSettingChange=__name((setting,value)=>{const newSettings={...scannerSettings,[setting]:value};autoAIScanner.saveSettings(newSettings)},"handleScannerSettingChange"),handleStartAutoScan=__name(async()=>{try{await autoAIScanner.startAutoScan()}catch{}},"handleStartAutoScan"),handleStopAutoScan=__name(()=>{autoAIScanner.stopAutoScan()},"handleStopAutoScan"),handleTelegramSetupComplete=__name(setupData=>{setTelegramEnabled(!0),setShowTelegramSetup(!1),alert("Telegram integration enabled successfully!")},"handleTelegramSetupComplete"),handleTelegramSetupError=__name(error=>{alert(`Telegram setup failed: ${error.message}`)},"handleTelegramSetupError"),handleTelegramSetupSkip=__name(()=>{setShowTelegramSetup(!1)},"handleTelegramSetupSkip"),handleBack=__name(()=>{navigate(-1)},"handleBack");return jsxRuntimeExports.jsxs("div",{className:"ai-settings-screen",children:[jsxRuntimeExports.jsx(TopAppBar,{title:"AI Settings",showBackButton:!0,onBackClick:handleBack}),jsxRuntimeExports.jsxs("div",{className:"ai-settings-content",children:[jsxRuntimeExports.jsxs("div",{className:"ai-hero-section",children:[jsxRuntimeExports.jsx("div",{className:"ai-hero-icon",children:"🤖"}),jsxRuntimeExports.jsx("h2",{children:"AI-Powered Data Capture"}),jsxRuntimeExports.jsx("p",{children:"Your AI assistant automatically scans your device gallery, analyzes content using advanced computer vision and text analysis, and intelligently builds your timeline with approved content. No manual uploads needed!"}),jsxRuntimeExports.jsxs("div",{className:"ai-features",children:[jsxRuntimeExports.jsxs("div",{className:"ai-feature",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"📸"}),jsxRuntimeExports.jsx("span",{children:"Auto Gallery Scanning"})]}),jsxRuntimeExports.jsxs("div",{className:"ai-feature",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"🧠"}),jsxRuntimeExports.jsx("span",{children:"Smart Content Filtering"})]}),jsxRuntimeExports.jsxs("div",{className:"ai-feature",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"⚡"}),jsxRuntimeExports.jsx("span",{children:"Real-time Processing"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"settings-header",children:[jsxRuntimeExports.jsx("h1",{children:"Content Filter Settings"}),jsxRuntimeExports.jsx("p",{children:"Configure smart filters for your relationship evidence"})]}),jsxRuntimeExports.jsxs("div",{className:"ai-status-section",children:[jsxRuntimeExports.jsx("h2",{children:"Smart Filter Status"}),jsxRuntimeExports.jsxs("div",{className:`status-indicator ${isInitialized?"ready":"error"}`,children:[jsxRuntimeExports.jsx("span",{className:"status-icon",children:isInitialized?"✅":"❌"}),jsxRuntimeExports.jsx("span",{className:"status-text",children:initializationStatus})]}),jsxRuntimeExports.jsxs("div",{className:"model-info",children:[jsxRuntimeExports.jsxs("div",{className:"model-card",children:[jsxRuntimeExports.jsx("h3",{children:"Computer Vision"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Purpose:"})," Photo validation and content filtering"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Status:"})," ",isInitialized?"Ready":"Not initialized"]})]}),jsxRuntimeExports.jsxs("div",{className:"model-card",children:[jsxRuntimeExports.jsx("h3",{children:"Textual Analysis"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Purpose:"})," Message content verification"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Status:"})," ",isInitialized?"Ready":"Not initialized"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsx("h2",{children:"Photo Filter Settings"}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsx("div",{className:"setting-header",children:jsxRuntimeExports.jsxs("label",{className:"setting-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:aiSettings.computerVision.enabled,onChange:e=>handleSettingChange("computerVision","enabled",e.target.checked)}),"Enable Photo Filtering"]})}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"Automatically filter photos for appropriate content"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsx("div",{className:"setting-header",children:jsxRuntimeExports.jsxs("label",{className:"setting-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:aiSettings.computerVision.humanDetection,onChange:e=>handleSettingChange("computerVision","humanDetection",e.target.checked),disabled:!aiSettings.computerVision.enabled}),"Human Detection"]})}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"Require at least one human to be detected in photos"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsx("div",{className:"setting-header",children:jsxRuntimeExports.jsxs("label",{className:"setting-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:aiSettings.computerVision.nudityFilter,onChange:e=>handleSettingChange("computerVision","nudityFilter",e.target.checked),disabled:!aiSettings.computerVision.enabled}),"Nudity Filter"]})}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"Automatically exclude images containing nudity or explicit content"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsx("div",{className:"setting-header",children:jsxRuntimeExports.jsxs("label",{className:"setting-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:aiSettings.computerVision.faceRecognition,onChange:e=>handleSettingChange("computerVision","faceRecognition",e.target.checked),disabled:!0}),"Face Recognition (Coming Soon)"]})}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"Identify faces of relationship partners (future feature)"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsxs("label",{className:"setting-label",children:["Filter Sensitivity: ",(aiSettings.computerVision.confidenceThreshold*100).toFixed(0),"%"]}),jsxRuntimeExports.jsx("input",{type:"range",min:"0.5",max:"1.0",step:"0.05",value:aiSettings.computerVision.confidenceThreshold,onChange:e=>handleSettingChange("computerVision","confidenceThreshold",parseFloat(e.target.value)),disabled:!aiSettings.computerVision.enabled,className:"confidence-slider"}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"How strict the content filter should be"})]})]}),jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsx("h2",{children:"Message Filter Settings"}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsx("div",{className:"setting-header",children:jsxRuntimeExports.jsxs("label",{className:"setting-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:aiSettings.textualAnalysis.enabled,onChange:e=>handleSettingChange("textualAnalysis","enabled",e.target.checked)}),"Enable Message Filtering"]})}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"Automatically filter messages for appropriate content"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsx("div",{className:"setting-header",children:jsxRuntimeExports.jsxs("label",{className:"setting-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:aiSettings.textualAnalysis.explicitContentFilter,onChange:e=>handleSettingChange("textualAnalysis","explicitContentFilter",e.target.checked),disabled:!aiSettings.textualAnalysis.enabled}),"Explicit Content Filter"]})}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"Automatically exclude messages containing sexually explicit content"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsx("div",{className:"setting-header",children:jsxRuntimeExports.jsxs("label",{className:"setting-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:aiSettings.textualAnalysis.sentimentAnalysis,onChange:e=>handleSettingChange("textualAnalysis","sentimentAnalysis",e.target.checked),disabled:!aiSettings.textualAnalysis.enabled}),"Sentiment Analysis"]})}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"Analyze emotional tone of messages (informational only)"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsxs("label",{className:"setting-label",children:["Filter Sensitivity: ",(aiSettings.textualAnalysis.confidenceThreshold*100).toFixed(0),"%"]}),jsxRuntimeExports.jsx("input",{type:"range",min:"0.5",max:"1.0",step:"0.05",value:aiSettings.textualAnalysis.confidenceThreshold,onChange:e=>handleSettingChange("textualAnalysis","confidenceThreshold",parseFloat(e.target.value)),disabled:!aiSettings.textualAnalysis.enabled,className:"confidence-slider"}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"How strict the content filter should be"})]})]}),jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsx("h2",{children:"Smart Photo Collection"}),jsxRuntimeExports.jsx("p",{children:"Automatically finds and organizes appropriate photos from your device"}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsx("div",{className:"setting-header",children:jsxRuntimeExports.jsxs("label",{className:"setting-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:scannerSettings.autoScanEnabled,onChange:e=>handleScannerSettingChange("autoScanEnabled",e.target.checked)}),"Enable Smart Collection"]})}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"Automatically find appropriate photos for your timeline"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsx("div",{className:"setting-header",children:jsxRuntimeExports.jsxs("label",{className:"setting-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:scannerSettings.backgroundScanning,onChange:e=>handleScannerSettingChange("backgroundScanning",e.target.checked),disabled:!scannerSettings.autoScanEnabled}),"Background Collection"]})}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"Continue finding new photos in the background"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsx("div",{className:"setting-header",children:jsxRuntimeExports.jsxs("label",{className:"setting-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:scannerSettings.smartTimelineUpdate,onChange:e=>handleScannerSettingChange("smartTimelineUpdate",e.target.checked),disabled:!scannerSettings.autoScanEnabled}),"Smart Timeline Updates"]})}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"Automatically organize approved content into timeline entries"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsxs("label",{className:"setting-label",children:["Check Frequency: ",Math.round(scannerSettings.scanInterval/1e3),"s"]}),jsxRuntimeExports.jsx("input",{type:"range",min:"10000",max:"300000",step:"10000",value:scannerSettings.scanInterval,onChange:e=>handleScannerSettingChange("scanInterval",parseInt(e.target.value)),disabled:!scannerSettings.autoScanEnabled,className:"confidence-slider"}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"How often to check for new photos"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-item",children:[jsxRuntimeExports.jsxs("label",{className:"setting-label",children:["Photos per check: ",scannerSettings.batchSize]}),jsxRuntimeExports.jsx("input",{type:"range",min:"1",max:"20",step:"1",value:scannerSettings.batchSize,onChange:e=>handleScannerSettingChange("batchSize",parseInt(e.target.value)),disabled:!scannerSettings.autoScanEnabled,className:"confidence-slider"}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"How many photos to check at once"})]}),jsxRuntimeExports.jsxs("div",{className:"scan-status-section",children:[jsxRuntimeExports.jsx("h3",{children:"Collection Status"}),jsxRuntimeExports.jsxs("div",{className:`scan-status ${scanStatus.isScanning?"scanning":"idle"}`,children:[jsxRuntimeExports.jsxs("div",{className:"status-row",children:[jsxRuntimeExports.jsx("span",{className:"status-label",children:"Status:"}),jsxRuntimeExports.jsx("span",{className:"status-value",children:scanStatus.isScanning?"🔄 Finding photos...":"⏸️ Ready"})]}),scanStatus.isScanning&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"status-row",children:[jsxRuntimeExports.jsx("span",{className:"status-label",children:"Progress:"}),jsxRuntimeExports.jsxs("span",{className:"status-value",children:[scanStatus.processedFiles,"/",scanStatus.totalFiles," files (",Math.round(scanStatus.progress),"%)"]})]}),jsxRuntimeExports.jsx("div",{className:"progress-bar",children:jsxRuntimeExports.jsx("div",{className:"progress-fill",style:{width:`${scanStatus.progress}%`}})})]}),jsxRuntimeExports.jsxs("div",{className:"status-row",children:[jsxRuntimeExports.jsx("span",{className:"status-label",children:"Approved:"}),jsxRuntimeExports.jsxs("span",{className:"status-value approved",children:[scanStatus.approvedCount," files"]})]}),jsxRuntimeExports.jsxs("div",{className:"status-row",children:[jsxRuntimeExports.jsx("span",{className:"status-label",children:"Filtered:"}),jsxRuntimeExports.jsxs("span",{className:"status-value rejected",children:[scanStatus.rejectedCount," files"]})]})]}),jsxRuntimeExports.jsx("div",{className:"scan-controls",children:scanStatus.isScanning?jsxRuntimeExports.jsx("button",{className:"scan-button stop",onClick:handleStopAutoScan,children:"Stop Collection"}):jsxRuntimeExports.jsx("button",{className:"scan-button start",onClick:handleStartAutoScan,disabled:!isInitialized||!scannerSettings.autoScanEnabled,children:"Start Collection"})}),scanResults&&jsxRuntimeExports.jsxs("div",{className:"scan-results",children:[jsxRuntimeExports.jsx("h4",{children:"Last Scan Results"}),jsxRuntimeExports.jsxs("p",{children:["Completed at ",new Date(scanResults.completedAt).toLocaleString()]}),jsxRuntimeExports.jsxs("p",{children:[scanResults.approvedFiles.length," files approved, ",scanResults.rejectedFiles.length," files filtered"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsx("h2",{children:"Telegram Integration"}),jsxRuntimeExports.jsx("p",{children:"Automatically collect messages from your Telegram conversations"}),jsxRuntimeExports.jsx("div",{className:"telegram-status",children:jsxRuntimeExports.jsxs("div",{className:"status-row",children:[jsxRuntimeExports.jsx("span",{className:"status-label",children:"Status:"}),jsxRuntimeExports.jsx("span",{className:`status-value ${telegramEnabled?"enabled":"disabled"}`,children:telegramEnabled?"✅ Connected":"❌ Not Connected"})]})}),telegramEnabled?jsxRuntimeExports.jsxs("div",{className:"telegram-connected",children:[jsxRuntimeExports.jsx("p",{children:"✅ Telegram integration is active and collecting evidence!"}),jsxRuntimeExports.jsx("button",{className:"manage-telegram-button",onClick:()=>setShowTelegramSetup(!0),children:"Manage Integration"})]}):jsxRuntimeExports.jsxs("div",{className:"telegram-setup",children:[jsxRuntimeExports.jsx("p",{children:"Connect your Telegram account to automatically collect relationship evidence from your conversations."}),jsxRuntimeExports.jsx("button",{className:"setup-telegram-button",onClick:()=>setShowTelegramSetup(!0),children:"Set Up Telegram Integration"})]})]}),jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsx("h2",{children:"Test Content Filters"}),jsxRuntimeExports.jsx("p",{children:"Test the smart filters with your own photos and messages"}),jsxRuntimeExports.jsx("button",{className:"test-ai-button",onClick:()=>setShowTest(!0),disabled:!isInitialized,children:"Test Content Filters"})]}),jsxRuntimeExports.jsxs("div",{className:"settings-section info-section",children:[jsxRuntimeExports.jsx("h2",{children:"How It Works"}),jsxRuntimeExports.jsxs("div",{className:"info-grid",children:[jsxRuntimeExports.jsxs("div",{className:"info-item",children:[jsxRuntimeExports.jsx("h3",{children:"Smart Technology"}),jsxRuntimeExports.jsx("p",{children:"Advanced filters are built-in and ready to use. No setup required."})]}),jsxRuntimeExports.jsxs("div",{className:"info-item",children:[jsxRuntimeExports.jsx("h3",{children:"Content Filtering"}),jsxRuntimeExports.jsx("p",{children:"Photos and messages are automatically reviewed to ensure appropriate content for your relationship evidence."})]}),jsxRuntimeExports.jsxs("div",{className:"info-item",children:[jsxRuntimeExports.jsx("h3",{children:"Privacy & Security"}),jsxRuntimeExports.jsx("p",{children:"All content review happens securely on your device. Your photos and messages stay private."})]})]})]})]}),showTest&&jsxRuntimeExports.jsx(AIClassificationTest,{onClose:()=>setShowTest(!1)}),showTelegramSetup&&jsxRuntimeExports.jsx("div",{className:"telegram-modal-overlay",children:jsxRuntimeExports.jsx("div",{className:"telegram-modal",children:jsxRuntimeExports.jsx(AutomatedTelegramSetup,{userId:"current_user",partnerEmail:"partner@example.com",onSetupComplete:handleTelegramSetupComplete,onError:handleTelegramSetupError,onSkip:handleTelegramSetupSkip})})})]})},"AISettings");export{AISettings};
